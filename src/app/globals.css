@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-scale: 1;
    --background: 40 33% 98%;
    --foreground: 25 20% 18%;
    --card: 0 0% 100%;
    --card-foreground: 25 20% 18%;
    --popover: 0 0% 100%;
    --popover-foreground: 25 20% 18%;
    --primary: 142 76% 36%;
    --primary-foreground: 0 0% 100%;
    --secondary: 24 95% 53%;
    --secondary-foreground: 0 0% 100%;
    --muted: 40 20% 94%;
    --muted-foreground: 25 10% 45%;
    --accent: 38 92% 50%;
    --accent-foreground: 25 20% 18%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 30 15% 88%;
    --input: 30 15% 88%;
    --ring: 142 76% 36%;
    --radius: 0.75rem;
  }

  html {
    font-size: calc(16px * var(--font-scale));
    scroll-behavior: smooth;
  }

  html.font-scale-large {
    --font-scale: 1.125;
  }

  html.font-scale-xlarge {
    --font-scale: 1.25;
  }

  html.font-scale-xxlarge {
    --font-scale: 1.375;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-warmgray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-warmgray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-warmgray-400;
  }
}

@layer components {
  /* Card styles */
  .card {
    @apply bg-card rounded-2xl shadow-soft p-6;
  }

  .card-elevated {
    @apply bg-card rounded-2xl shadow-soft-md p-6;
  }

  .card-bordered {
    @apply bg-card rounded-2xl border border-border p-6;
  }

  /* Gradient backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700;
  }

  .gradient-secondary {
    @apply bg-gradient-to-br from-secondary-400 via-secondary-500 to-secondary-600;
  }

  .gradient-warm {
    @apply bg-gradient-to-br from-coral-400 via-secondary-500 to-accent-500;
  }

  .gradient-hero {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-sage-700;
  }

  .gradient-medical {
    @apply bg-gradient-to-br from-primary-500 to-primary-700;
  }

  .gradient-sunset {
    @apply bg-gradient-to-r from-coral-400 via-secondary-500 to-accent-400;
  }

  .gradient-nature {
    @apply bg-gradient-to-br from-sage-400 via-primary-500 to-primary-600;
  }

  .gradient-calm {
    @apply bg-gradient-to-br from-warmgray-100 via-sage-50 to-primary-50;
  }

  .gradient-mesh {
    background:
      radial-gradient(at 40% 20%, rgba(34, 197, 94, 0.15) 0px, transparent 50%),
      radial-gradient(at 80% 0%, rgba(249, 115, 22, 0.1) 0px, transparent 50%),
      radial-gradient(at 0% 50%, rgba(245, 158, 11, 0.1) 0px, transparent 50%),
      radial-gradient(at 80% 50%, rgba(101, 120, 89, 0.1) 0px, transparent 50%),
      radial-gradient(at 0% 100%, rgba(248, 101, 69, 0.1) 0px, transparent 50%);
  }

  /* Text gradients */
  .text-gradient-primary {
    @apply text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-primary-700;
  }

  .text-gradient-warm {
    @apply text-transparent bg-clip-text bg-gradient-to-r from-coral-500 via-secondary-500 to-accent-500;
  }

  .text-gradient-nature {
    @apply text-transparent bg-clip-text bg-gradient-to-r from-sage-500 via-primary-500 to-primary-600;
  }

  /* Blob decorations */
  .blob {
    @apply absolute rounded-full filter blur-3xl;
  }

  .blob-primary {
    @apply blob bg-primary-400/20;
  }

  .blob-secondary {
    @apply blob bg-secondary-400/20;
  }

  .blob-accent {
    @apply blob bg-accent-400/20;
  }

  .blob-coral {
    @apply blob bg-coral-400/20;
  }

  .blob-sage {
    @apply blob bg-sage-400/20;
  }

  /* Glass morphism */
  .glass {
    @apply bg-white/70 backdrop-blur-xl border border-white/30 shadow-soft;
  }

  .glass-dark {
    @apply bg-foreground/10 backdrop-blur-xl border border-white/10;
  }

  .glass-warm {
    @apply bg-warmgray-50/80 backdrop-blur-xl border border-warmgray-200/50;
  }

  /* Wave dividers */
  .wave-divider {
    position: relative;
    width: 100%;
    overflow: hidden;
    line-height: 0;
  }

  .wave-divider svg {
    position: relative;
    display: block;
    width: calc(100% + 1.3px);
    height: 80px;
  }

  .wave-divider-lg svg {
    height: 120px;
  }

  /* Curved sections */
  .curved-top {
    border-radius: 50% 50% 0 0 / 30px 30px 0 0;
  }

  .curved-bottom {
    border-radius: 0 0 50% 50% / 0 0 30px 30px;
  }

  /* Status badges */
  .badge-healthy {
    @apply bg-healthy-light text-healthy-dark border border-healthy/30;
  }

  .badge-at-risk {
    @apply bg-at-risk-light text-at-risk-dark border border-at-risk/30;
  }

  .badge-intervention {
    @apply bg-intervention-light text-intervention-dark border border-intervention/30;
  }

  /* Touch targets */
  .touch-target {
    @apply min-h-touch min-w-touch flex items-center justify-center;
  }

  /* Accessible text */
  .text-accessible-sm {
    @apply text-sm-accessible;
  }

  .text-accessible-base {
    @apply text-base-accessible;
  }

  .text-accessible-lg {
    @apply text-lg-accessible;
  }

  /* Shimmer effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.4) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* Floating animation containers */
  .float-container > :nth-child(1) {
    animation-delay: 0s;
  }
  .float-container > :nth-child(2) {
    animation-delay: -2s;
  }
  .float-container > :nth-child(3) {
    animation-delay: -4s;
  }

  /* Pattern overlays */
  .pattern-dots {
    @apply bg-dots-pattern;
  }

  .pattern-grid {
    @apply bg-hero-pattern;
  }

  /* Hover card effect */
  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-2 hover:shadow-soft-lg;
  }

  .hover-glow {
    @apply transition-all duration-300 hover:shadow-glow;
  }

  /* Dividers */
  .divider-gradient {
    @apply h-px w-full bg-gradient-to-r from-transparent via-border to-transparent;
  }

  .divider-dotted {
    @apply border-t-2 border-dotted border-border w-full;
  }

  /* Section shapes */
  .section-curve {
    clip-path: ellipse(150% 100% at 50% 100%);
  }

  .section-wave {
    clip-path: polygon(
      0% 0%,
      100% 0%,
      100% 85%,
      75% 100%,
      50% 90%,
      25% 100%,
      0% 85%
    );
  }

  .section-slant {
    clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
  }
}

@layer utilities {
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* High contrast mode */
  .high-contrast {
    --tw-text-opacity: 1;
    color: rgb(0 0 0 / var(--tw-text-opacity));
  }

  .high-contrast .card,
  .high-contrast .card-elevated,
  .high-contrast .card-bordered {
    @apply border-2 border-foreground;
  }

  /* Text balance */
  .text-balance {
    text-wrap: balance;
  }

  /* Gradient text */
  .gradient-text {
    @apply text-transparent bg-clip-text;
  }

  /* Hide scrollbar */
  .no-scrollbar::-webkit-scrollbar,
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar,
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Perspective for 3D effects */
  .perspective-1000 {
    perspective: 1000px;
  }

  .perspective-2000 {
    perspective: 2000px;
  }

  /* Preserve 3D */
  .preserve-3d {
    transform-style: preserve-3d;
  }

  /* Backface hidden */
  .backface-hidden {
    backface-visibility: hidden;
  }
}
